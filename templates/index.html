<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>数据标注众包平台</title>
    <!-- plugins:css -->
    <link rel="stylesheet" href="/statics/vendors/mdi/css/materialdesignicons.min.css">
    <link rel="stylesheet" href="/statics/vendors/css/vendor.bundle.base.css">
    <!-- endinject -->
    <!-- Plugin css for this page -->
    <!-- End plugin css for this page -->
    <!-- inject:css -->
    <!-- endinject -->
    <!-- Layout styles -->
    <link rel="stylesheet" href="/statics/css/style.css">
    <!-- End layout styles -->
    <link rel="shortcut icon" href="/statics/images/favicon.ico" />
    <link rel="stylesheet" href="/statics/vendors/css/vendor.bundle.base.css">
    <link rel="stylesheet" href="/statics/css/bootstrap.css">
    <script type="text/javascript" src="/statics/js/jquery-1.8.3.min.js"></script>
    <script type="text/javascript" src="/statics/js/bootstrap.min.js"></script>
    <!-- endinject -->
    <!-- Plugin css for this page -->
    <!-- End plugin css for this page -->
    <!-- inject:css -->
    <!-- endinject -->
    <!-- Layout styles -->
    <!-- End layout styles -->
    <link rel="stylesheet" href="/statics/css/bootstrap-datetimepicker.min.css">
      <style>
          #navbarNav > ul > li{
              margin-left: 2rem;
              margin-right: 2rem;
          }
          #navbar{
              line-height: 2rem;
          }
          #tasks .img-box{
              overflow: hidden;
          }
          #tasks .img-box > img{
              height: 18rem;
              width: 17rem;
              background-color: black;
          }
          #tasks > li{
              margin-right: 1.39rem;
              margin-bottom: 2rem;
          }
          .notice > ul > li{
              margin-top: 0.5rem
          }
      </style>
  </head>
  <body>
      <div class="container-scroller bg-body-secondary">
          <nav class="navbar navbar-expand-md navbar-dark bg-dark" id="navbar">
              <div class="bg-dark text-center navbar-brand-wrapper d-flex align-items-center justify-content-center" style="width: 2rem;height: 1.2rem;margin-left: 5rem;margin-right: 16rem">
                 <a class="navbar-brand text-light" href="#">
                 </a>
              </div>
                &ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;
              <button class="navbar-toggler btn-sm" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon icon-sm"></span>
              </button>

              <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ml-auto fs-6">
                  <li class="nav-item">
                    <a class="nav-link active s" href="/index" id="s1">首页</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link s" href="/notice" id="s2">公告</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link s" href="/jiaocheng" id="s3">使用说明</a>
                  </li>
                </ul>
              </div>
              {% block login %}
              <div class="collapse navbar-collapse text-center">
                  {% if not name %}
                      <p class="text-light mb-0">欢迎，请
                          <a class="text-decoration-none text-primary" href="/login">登录</a>&ensp;
                          <a class="text-decoration-none " href="/register">注册</a>
                      </p>
                  {% elif name %}
                      <div class="text-light">
                          <div class="dropdown" aria-labelledby="profileDropdown">
                            <button type="button" class="btn btn-dark dropdown-toggle" data-bs-toggle="dropdown">
                                {{ type }}:{{ name }}
                            </button>
                            <ul class="dropdown-menu">
                                <a class="dropdown-item" href="/{{ type }}/{{ name }}/">
                                  <i class="mdi mdi-cached me-2 text-success"></i>个人中心</a>
                                <a class="dropdown-item" href="/logout">
                                  <i class="mdi mdi-logout me-2 text-primary"></i>退出</a>
                            </ul>
                          </div>
                      </div>
                  {% endif %}
              </div>
              {% endblock %}
             {% comment %} <script>
                  //给当前元素设置新的样式，并删除当前元素的同胞元素的样式
                 $('#navbarNav').find('a').each(function () {
                        $(this).click(function () {
                            $(this).parent().siblings().find('a').removeClass("active")
                            $(this).addClass('active')
                            // 调整页面显示内容
                            const s = "my"+this.id
                            console.log(s)
                            const section = document.getElementById(s)
                            const sections = document.getElementsByClassName('mysection')
                            for (each of sections){
                                $(each).addClass('visually-hidden')
                            }
                            $(section).removeClass('visually-hidden')
                            section.style.display='block';
                            // 或者写成一句
                            //$(this).parent().addClass('active').siblings().removeClass("active")
                        })
                    })
              </script>{% endcomment %}

          </nav>
          <div class="main-panel">
              <div class="row mysection " id="mys1">
                  <div class="row mt-2" style="margin-left: 8.6rem">
                    <div class="col-9">
                         <div id="demo2" class="carousel slide" data-bs-ride="carousel">
                               <!-- 指示符 -->
                              <div class="carousel-indicators">
                                <button type="button" data-bs-target="#demo" data-bs-slide-to="0" class="active"></button>
                                <button type="button" data-bs-target="#demo" data-bs-slide-to="1"></button>
                                <button type="button" data-bs-target="#demo" data-bs-slide-to="2"></button>
                              </div>

                              <!-- 轮播图片 -->
                              <div class="carousel-inner">
                                <div class="carousel-item active">
                                  <img src="/statics/images/dashboard/cover1.jpg" style="height: 20rem;width: 60rem">
                                </div>
        {#                              {% for data in datas %}#}
                                <div class="carousel-item">
                                  <img src="/statics/images/dashboard/cover2.jpg" style="height: 20rem;width: 60rem">
                                </div>
                                <div class="carousel-item">
                                  <img src="/statics/images/dashboard/cover3.jpg" style="height: 20rem;width: 60rem">
                                </div>
        {#                              {% endfor %}#}
                                </div>
                                                      <!-- 左右切换按钮 -->
                               <button class="carousel-control-prev" type="button" data-bs-target="#demo2" data-bs-slide="prev">
                            <span class="carousel-control-prev-icon"></span>
                          </button>
                               <button class="carousel-control-next" type="button" data-bs-target="#demo2" data-bs-slide="next">
                            <span class="carousel-control-next-icon"></span>
                          </button>
                         </div>
                    </div>
                    <div class="col-3">
                         <div id="info" class="d-flex bg-white justify-content-center align-items-center" style="height: 9rem;">
                            {% if name %}
                                <div class="row justify-content-center text-center">
                                    <span class="font-weight-bold">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-person-fill" viewBox="0 0 16 16">
                                          <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
                                        </svg>&ensp;&ensp;&ensp;{{ type }}: {{ name }}</span>
                                    <br>
                                    <br>
                                    <hr>
                                    <a class="nav-link" href="/{{ type }}/{{ name }}/index">
                                    <button class="btn btn-warning w-50">
                                        个人中心
                                    </button>
                                    </a>
                                </div>
                            {% else %}
                                您还未登录，请点此<a class="text-decoration-none text-primary" href="/login">登录</a>
                            {% endif %}
                         </div>
                         <div id="notice" class="bg-white mt-3" style="height: 10rem;">
                             <div class="icon-lg align-items-center justify-content-center fs-6" style="margin-left: 1rem;height: 30%;padding-top: 1rem">
                                <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="gray" class="bi bi-volume-up" viewBox="0 0 16 16">
                                  <path d="M11.536 14.01A8.473 8.473 0 0 0 14.026 8a8.473 8.473 0 0 0-2.49-6.01l-.708.707A7.476 7.476 0 0 1 13.025 8c0 2.071-.84 3.946-2.197 5.303l.708.707z"/>
                                  <path d="M10.121 12.596A6.48 6.48 0 0 0 12.025 8a6.48 6.48 0 0 0-1.904-4.596l-.707.707A5.483 5.483 0 0 1 11.025 8a5.483 5.483 0 0 1-1.61 3.89l.706.706z"/>
                                  <path d="M10.025 8a4.486 4.486 0 0 1-1.318 3.182L8 10.475A3.489 3.489 0 0 0 9.025 8c0-.966-.392-1.841-1.025-2.475l.707-.707A4.486 4.486 0 0 1 10.025 8zM7 4a.5.5 0 0 0-.812-.39L3.825 5.5H1.5A.5.5 0 0 0 1 6v4a.5.5 0 0 0 .5.5h2.325l2.363 1.89A.5.5 0 0 0 7 12V4zM4.312 6.39 6 5.04v5.92L4.312 9.61A.5.5 0 0 0 4 9.5H2v-3h2a.5.5 0 0 0 .312-.11z"/>
                                </svg>
                                 <strong>公告</strong>
                                 <div style="display: inline;float: right">
                                    <div class="fs-6 align-items-center" style="display: inline;margin-right:1rem">查看更多</div>
                                 </div>
                             </div>
                             <div class="border-bottom">

                             </div>
                             <div class="notice mt-2 text-warning h-50" style="margin-left: 1rem">
                                 <ul class="list-unstyled h-100" style="overflow-y: scroll">
                                     {% for notice in notices %}
                                     <li class="list-group-item"><a class="list-group-item" href="/notice_info?nId={{ notice.nId }}">{{ notice.noticeName }}</a></li>
                                     {% endfor %}
                                 </ul>
                             </div>
                         </div>
                    </div>
                  </div>
                  <div class="row mt-2" style="margin-left: 9.3rem">
                      <div id="choice" class="col-12 bg-white align-items-center d-flex"  style="height: 4rem;width: 98.3%">
                        <div id="all" class="text-warning d-inline-block"><a class="text-warning nav-link" href="/index">全部</a></div>
                          <div class="dropdown" style="margin-left: 2rem">
                              <a class="btn btn-outline-behance dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-bs-toggle="dropdown" aria-expanded="false">
                                文本标注
                              </a>
                              <ul class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                                <li><a class="dropdown-item" href="/index?taskType=textClean">文本清洗</a></li>
                                <li><a class="dropdown-item" href="/index?taskType=emotionLable">情感标注</a></li>
                                <li><a class="dropdown-item" href="/index?taskType=textClass">文本分类</a></li>
                              </ul>
                          </div>
                          <div class="dropdown" style="margin-left: 2rem">
                              <a class="btn btn-outline-behance dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-bs-toggle="dropdown" aria-expanded="false">
                                图片标注
                              </a>
                              <ul class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                                <li><a class="dropdown-item" href="/index?taskType=semanticSeg">语义分割</a></li>
                                <li><a class="dropdown-item" href="/index?taskType=picClass">图片分类</a></li>
                                <li><a class="dropdown-item" href="/index?taskType=objectDetection">目标检测</a></li>
                              </ul>
                          </div>
                          <div class="dropdown" style="margin-left: 2rem">
                              <a class="btn btn-outline-behance dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-bs-toggle="dropdown" aria-expanded="false">
                                语音标注
                              </a>
                              <ul class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                                <li><a class="dropdown-item" href="#">选项 1</a></li>
                                <li><a class="dropdown-item" href="#">选项 2</a></li>
                                <li><a class="dropdown-item" href="#">选项 3</a></li>
                              </ul>
                          </div>
                          <form class="form-group w-25 mt-4" action="" method="post" style="margin-left: 37%">
                              {% csrf_token %}
                              <div class="input-group w-100">
                                  <input class="form-control text-gray fs-6" type="text" placeholder="输入任务名称关键字进行搜索" name="taskKey">
                                  <div class="input-group-append">
                                    <button class="btn btn-outline-dark" type="submit">Go
                                    </button>
                                  </div>
                              </div>
                          </form>
                      </div>
                      <ul id="tasks" class="list-inline col-sm-12 bg-white mt-2 p-4"  style="width: 98.3%">
                        {% for task in tasks %}
                            <li class="list-inline-item">
                                <a class="d-block" href="/task_detail?taskId={{ task.taskId }}">
                                    <div class="img-box">
                                        <img src="data:data;base64, {{ task.data }}" alt="">
                                    </div>
                                </a>
                                <div class="task-detail mt-1">
                                    <span><strong>{{ task.taskName }}</strong></span>
                                    <span class="float-end">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person" viewBox="0 0 16 16">
                                          <path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z"/>
                                        </svg>
                                    </span>
                                    &ensp;&ensp;
                                    <br/>
                                    <span><strong>截止时间:</strong></span>
                                    <span class="float-end text-gray font-weight-bold">{{ task.taskLimit }}</span>
                                    </br>
                                    <button class="btn btn-outline-warning bg-transparent mt-1 text-dark w-100">任务详细</button>
                                </div>
                            </li>
                        {% endfor %}
                      </ul>
                      <script>
                          $('#tasks').find('.img-box').each(function(){
                            $(this).on('mouseenter', function() {
                                $(this).find('img').css({
                                  transform: 'scale(1.1)',
                                  transition: 'all 0.3s ease'
                                });
                              }).on('mouseleave', function() {
                                $(this).find('img').css({
                                  transform: 'scale(1)',
                                  transition: 'all 0.3s ease'
                                });
                              });
                          })
                      </script>
                  </div>
              </div>
{% comment %}              <div class="row mysection visually-hidden" id="mys2">
                <div class="col-12">
                    <div class="card">
                        <div class="card-body">
                            3
                        </div>
                    </div>
                </div>
              </div>
              <div class="row mysection visually-hidden" id="mys3">
                <div class="col-12">
                    <div class="card">
                        <div class="card-body">
                            4
                        </div>
                    </div>
                </div>
              </div>{% endcomment %}
          </div>
        </div>
    <script src="/statics/vendors/js/vendor.bundle.base.js"></script>
    <!-- endinject -->
    <!-- Plugin js for this page -->
    <script src="/statics/vendors/chart.js/Chart.min.js"></script>
    <script src="/statics/js/jquery.cookie.js" type="text/javascript"></script>
    <!-- End plugin js for this page -->
    <!-- inject:js -->
    <script src="/statics/js/off-canvas.js"></script>
    <script src="/statics/js/hoverable-collapse.js"></script>
    <script src="/statics/js/misc.js"></script>
    <!-- endinject -->
    <!-- Custom js for this page -->
    <script src="/statics/js/dashboard.js"></script>
    <script src="/statics/js/todolist.js"></script>
    <!-- End custom js for this page -->
  </body>
</html>